<!doctype html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Chunk Upload Lib Demo</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family:
					-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
					'Helvetica Neue', Arial, sans-serif;
				padding: 2rem;
				background: #f5f5f5;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				background: white;
				padding: 2rem;
				border-radius: 8px;
				box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
			}

			h1 {
				color: #333;
				margin-bottom: 1rem;
			}

			.upload-section {
				margin-bottom: 2rem;
			}

			.file-input-wrapper {
				position: relative;
				display: inline-block;
				margin-bottom: 1rem;
			}

			input[type='file'] {
				padding: 0.5rem;
				border: 2px dashed #ddd;
				border-radius: 4px;
				cursor: pointer;
			}

			.controls {
				display: flex;
				gap: 1rem;
				margin-bottom: 1rem;
				flex-wrap: wrap;
			}

			button {
				padding: 0.5rem 1rem;
				border: none;
				border-radius: 4px;
				cursor: pointer;
				font-size: 0.9rem;
				transition: background 0.3s;
			}

			.btn-primary {
				background: #007bff;
				color: white;
			}

			.btn-primary:hover {
				background: #0056b3;
			}

			.btn-danger {
				background: #dc3545;
				color: white;
			}

			.btn-danger:hover {
				background: #c82333;
			}

			.btn-secondary {
				background: #6c757d;
				color: white;
			}

			.btn-secondary:hover {
				background: #5a6268;
			}

			.progress-section {
				margin-top: 2rem;
			}

			.progress-item {
				margin-bottom: 1rem;
				padding: 1rem;
				background: #f8f9fa;
				border-radius: 4px;
			}

			.progress-item h3 {
				font-size: 1rem;
				margin-bottom: 0.5rem;
				color: #333;
			}

			.progress-bar-wrapper {
				width: 100%;
				height: 24px;
				background: #e9ecef;
				border-radius: 12px;
				overflow: hidden;
				margin-bottom: 0.5rem;
			}

			.progress-bar {
				height: 100%;
				background: linear-gradient(90deg, #007bff, #0056b3);
				transition: width 0.3s;
				display: flex;
				align-items: center;
				justify-content: center;
				color: white;
				font-size: 0.75rem;
				font-weight: bold;
			}

			.file-list {
				margin-top: 2rem;
			}

			.file-item {
				padding: 1rem;
				margin-bottom: 1rem;
				background: #f8f9fa;
				border-radius: 4px;
				border-left: 4px solid #007bff;
			}

			.file-item h3 {
				font-size: 1rem;
				margin-bottom: 0.5rem;
				color: #333;
			}

			.file-item .meta {
				font-size: 0.875rem;
				color: #666;
				margin-bottom: 0.5rem;
			}

			.file-item .chunks {
				font-size: 0.875rem;
				color: #666;
			}

			.error {
				padding: 1rem;
				margin-top: 1rem;
				background: #f8d7da;
				color: #721c24;
				border-radius: 4px;
				border-left: 4px solid #dc3545;
			}

			.stats {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 1rem;
				margin-top: 2rem;
			}

			.stat-card {
				padding: 1rem;
				background: #f8f9fa;
				border-radius: 4px;
				text-align: center;
			}

			.stat-card .value {
				font-size: 2rem;
				font-weight: bold;
				color: #007bff;
			}

			.stat-card .label {
				font-size: 0.875rem;
				color: #666;
				margin-top: 0.5rem;
			}
			.status {
				padding: 1rem;
				margin: 1rem 0;
				border-radius: 4px;
			}
			.status.success {
				background: #d4edda;
				color: #155724;
				border: 1px solid #c3e6cb;
			}
			.status.error {
				background: #f8d7da;
				color: #721c24;
				border: 1px solid #f5c6cb;
			}
			.status.info {
				background: #d1ecf1;
				color: #0c5460;
				border: 1px solid #bee5eb;
			}

			.mode-selector {
				margin-bottom: 1rem;
			}

			.mode-selector label {
				margin-right: 1rem;
				cursor: pointer;
			}

			.mode-selector input[type='radio'] {
				margin-right: 0.5rem;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>ğŸš€ Chunk Upload Lib Demo</h1>

			<div class="upload-section">
				<div class="mode-selector">
					<label>
						<input type="radio" name="mode" value="batch" checked />
						æ‰¹é‡å›è°ƒæ¨¡å¼
					</label>
					<label>
						<input type="radio" name="mode" value="immediate" />
						ç«‹å³å›è°ƒæ¨¡å¼
					</label>
				</div>

				<div class="file-input-wrapper">
					<input type="file" id="file-input" multiple />
				</div>

				<div class="controls">
					<button class="btn-primary" id="start-btn">å¼€å§‹å¤„ç†</button>
					<button class="btn-danger" id="cancel-btn" disabled>å–æ¶ˆ</button>
					<button class="btn-secondary" id="clear-btn">æ¸…ç©º</button>
					<button
						class="btn-secondary"
						id="test-btn"
						style="background: #28a745"
					>
						åˆ›å»ºæµ‹è¯•æ–‡ä»¶å¹¶æµ‹è¯•
					</button>
				</div>
			</div>

			<div class="progress-section" id="progress-section" style="display: none">
				<h2>å¤„ç†è¿›åº¦</h2>
				<div id="progress-list"></div>
			</div>

			<div class="stats" id="stats" style="display: none">
				<div class="stat-card">
					<div class="value" id="total-files">0</div>
					<div class="label">æ€»æ–‡ä»¶æ•°</div>
				</div>
				<div class="stat-card">
					<div class="value" id="processed-files">0</div>
					<div class="label">å·²å¤„ç†</div>
				</div>
				<div class="stat-card">
					<div class="value" id="total-chunks">0</div>
					<div class="label">æ€»åˆ†ç‰‡æ•°</div>
				</div>
				<div class="stat-card">
					<div class="value" id="total-size">0 MB</div>
					<div class="label">æ€»å¤§å°</div>
				</div>
			</div>

			<div class="file-list" id="file-list"></div>

			<div id="error-container"></div>
		</div>

		<script type="module" src="./main.ts"></script>
	</body>
</html>
